{% extends "home.layout.twig" %}
{% block browserTitle %}{{ title }}{% endblock %}
{% block keywords %}{{ keywords }}{% endblock %}
{% block description %}{{ description }}{% endblock %}
{% block content %}
    <div class="c-board">
        <canvas id="oCanvas"></canvas>
    </div>
    <div class="c-article">
        <div class="container">
            <div class="col-md-8">
                <article class="c-article__page">
                    <div class="c-listing__title-group">
                        <h3 class="c-listing__title text-center">{{ article.title }}</h3>
                        <p class="c-listing__from">
                            出处：<a href="##">{{ article.author }}</a>
                            <span class="c-listing__time">{{ article.post }}</span>
                        </p>
                    </div>
                    <div class="c-listing__text c-listing__img-cover">
                        {{ article.description|raw }}
                    </div>
                    <div class="c-listing__type">
                        <span class="glyphicon glyphicon-tags"></span>
                        <strong class="c-listing__type-text">{{ article.type }}</strong>
                    </div>
                </article>
            </div>
            <div class="col-md-4">
                <aside class="c-listing__aside">
                    <h3 class="c-listing__aside-title">前端博客</h3>
                    <div class="c-listing__aside-contain">
                        <p><a href="http://www.haorooms.com/">Haorooms</a></p>
                        <p><a href="http://www.ruanyifeng.com/home.html">阮一峰的个人网站</a></p>
                        <p><a href="http://www.yyyweb.com/">前端里</a></p>
                    </div>
                </aside>
                <aside class="c-listing__aside">
                    <h3 class="c-listing__aside-title">前端技术</h3>
                    <div class="c-listing__aside-contain">
                        <p><a href="https://webpack.bootcss.com/">Webpack</a></p>
                        <p><a href="https://vuejs.bootcss.com/">Vue.js</a></p>
                        <p><a href="http://www.bootcss.com/p/git-guide/">git-guide</a></p>
                        <p><a href="http://www.gulpjs.com.cn/">gulp</a></p>
                        <p><a href="http://w3schools.bootcss.com/default.html">W3C schools</a></p>
                    </div>
                </aside>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        var scWid = document.documentElement.offsetWidth||document.body.offsetWidth;;
        var scHei = 400;
        //var oBody = document.getElementsByTagName("body")[0];
        var oCanvas = document.getElementById("oCanvas");
        var myCanvas = oCanvas.getContext("2d");
        oCanvas.width = scWid;
        oCanvas.height = scHei;
        var dots = [];
        
        for(var i=0;i<30;i++){
            var dot = new Ball();
            dots.push(dot);
        }
        
        var timer = setInterval(function(){
            myCanvas.clearRect(0,0,scWid,scHei);
            drawLine();
            for(var i=0;i<dots.length;i++){
                myCanvas.beginPath();
                myCanvas.arc(dots[i].x,dots[i].y,dots[i].r,0,Math.PI*2,false);
                myCanvas.fillStyle = "lightgreen";
                myCanvas.fill();
                myCanvas.closePath();
                dots[i].move();
            }
        },1000/60);
        
        function Ball(){
            this.r = getRan(4,14);
            this.x = getRan(this.r,scWid-this.r);
            this.y = getRan(this.r,scHei-this.r);
            var signX = Math.random()>=0.5?"+":"-";
            var signY = Math.random()>=0.5?"+":"-";
            this.speedX = parseInt(signX+getRan(1,2));
            this.speedY = parseInt(signY+getRan(1,2));
        }
        
        Ball.prototype.move = function(){
            this.x += this.speedX;
            this.y += this.speedY;
            if(this.x<=this.r||this.x>=(scWid-this.r)){
                this.speedX = -this.speedX;
            }
            if(this.y<=this.r||this.y>=(scHei-this.r)){
                this.speedY = -this.speedY;
            }
            
        }
        
        function drawLine(){
            for(var i=0;i<dots.length;i++){
                for(var j=i;j<dots.length;j++){
                    if(Math.sqrt(Math.pow(dots[i].x-dots[j].x,2)+Math.pow(dots[i].y-dots[j].y,2),2)<250){
                        myCanvas.beginPath();
                        myCanvas.strokeStyle = "#ffffff";
                        myCanvas.moveTo(dots[i].x,dots[i].y);
                        myCanvas.lineTo(dots[j].x,dots[j].y);
                        myCanvas.closePath();
                        myCanvas.stroke();
                    }   
                }
            }
        }
        
        function getRan(min,max){
            return Math.floor(Math.random()*(max - min+1))+min;
        }
        
        
        /*Ball.prototype.createBall = function(){
            this.ele = document.createElement("div");
            this.ele.style.cssText = "width:"+this.r+"px;height:"+this.r+"px;position:absolute;left:"+this.left+"px;top:"+this.top+"px;background:red;"
            oBody.appendChild(this.ele);
        }*/
    </script>
{% endblock %}